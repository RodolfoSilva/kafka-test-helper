<!-------------------------------------------------------------------->
<!--                            WARNING!                            -->
<!-------------------------------------------------------------------->
<!--                                                                -->
<!-- THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY. -->
<!-- but run the following script $ npm run build                   -->
<!--                                                                -->
<!-------------------------------------------------------------------->
<!-------------------------------------------------------------------->

# Kafka Test Helper APIs
## Classes

<dl>
<dt><a href="#KafkaTestHelper">KafkaTestHelper</a></dt>
<dd></dd>
</dl>

## Functions

<dl>
<dt><a href="#create">create(kafka, topic)</a> ⇒ <code><a href="#KafkaTestHelper">KafkaTestHelper</a></code></dt>
<dd><p>Creates and returns an instance of KafkaTestHelper</p>
</dd>
<dt><a href="#reset">reset()</a></dt>
<dd><p>Resets the helper to the current offset</p>
</dd>
<dt><a href="#ensureTopicExists">ensureTopicExists([timeout])</a></dt>
<dd><p>Creates a topic if doesn&#39;t exist</p>
</dd>
<dt><a href="#ensureTopicDeleted">ensureTopicDeleted([timeout])</a></dt>
<dd><p>Deletes a topic if exists</p>
</dd>
<dt><a href="#messages">messages()</a> ⇒ <code><a href="#ConsumedMessage">Array.&lt;ConsumedMessage&gt;</a></code></dt>
<dd><p>Returns a list of messages published to the topic from last helper reset</p>
</dd>
<dt><a href="#publishMessages">publishMessages(messages)</a></dt>
<dd><p>Publishes a list of messages to the topic</p>
</dd>
</dl>

## Typedefs

<dl>
<dt><a href="#ConsumedMessage">ConsumedMessage</a> : <code>Object</code></dt>
<dd></dd>
<dt><a href="#ProducibleMessage">ProducibleMessage</a> : <code>Object</code></dt>
<dd></dd>
</dl>

# Specs
<a name="KafkaTestHelper"></a>

## KafkaTestHelper
**Kind**: global class  
<a name="new_KafkaTestHelper_new"></a>

### new KafkaTestHelper()
class representing a Kafka Test Helper

<a name="create"></a>

## create(kafka, topic) ⇒ [<code>KafkaTestHelper</code>](#KafkaTestHelper)
Creates and returns an instance of KafkaTestHelper

**Kind**: global function  

| Param | Type | Description |
| --- | --- | --- |
| kafka | <code>Kafka</code> | KafkaJS instance |
| topic | <code>string</code> | Topic that this helper is going to monitor |

<a name="reset"></a>

## reset()
Resets the helper to the current offset

**Kind**: global function  
**Example**  
```js
await helper.reset()
```
<a name="ensureTopicExists"></a>

## ensureTopicExists([timeout])
Creates a topic if doesn't exist

**Kind**: global function  

| Param | Type | Default | Description |
| --- | --- | --- | --- |
| [timeout] | <code>number</code> | <code>5000</code> | Timeout in ms |

**Example**  
```js
await helper.ensureTopicExists()
```
<a name="ensureTopicDeleted"></a>

## ensureTopicDeleted([timeout])
Deletes a topic if exists

**Kind**: global function  

| Param | Type | Default | Description |
| --- | --- | --- | --- |
| [timeout] | <code>number</code> | <code>5000</code> | Timeout in ms |

**Example**  
```js
await helper.ensureTopicDeleted()
```
<a name="messages"></a>

## messages() ⇒ [<code>Array.&lt;ConsumedMessage&gt;</code>](#ConsumedMessage)
Returns a list of messages published to the topic from last helper reset

**Kind**: global function  
**Example**  
```js
const msgs = await helper.messages()
[
 {
    headers: {}
    partition: 0,
    buffer: <Buffer 7b 22 62 61 72 22 3a 34 32 7d>,
    json: { "bar": 42 },
    string: '{"bar":42}',
 },
 ...
]
```
<a name="publishMessages"></a>

## publishMessages(messages)
Publishes a list of messages to the topic

**Kind**: global function  

| Param | Type | Description |
| --- | --- | --- |
| messages | [<code>Array.&lt;ProducibleMessage&gt;</code>](#ProducibleMessage) | List of messages to publish |

**Example**  
```js
await helper.publishMessages([
 {
   partition: 0,
   key: 'key1',
   string: "hello world",
 },
...
])
```
**Example**  
```js
await helper.publishMessages([
 {
   partition: 0,
   key: 'key1',
   json: { "foo": "bar" },
 },
...
])
```
**Example**  
```js
await helper.publishMessages([
 {
   partition: 0,
   key: 'key1',
   buffer: Buffer.from('hello world')
 },
...
])
```
<a name="ConsumedMessage"></a>

## ConsumedMessage : <code>Object</code>
**Kind**: global typedef  
**Properties**

| Name | Type | Description |
| --- | --- | --- |
| headers | <code>Object</code> | Object with headers |
| partition | <code>number</code> | Partition number |
| buffer | <code>Buffer</code> | Buffer with message |
| json | <code>Object</code> | Object with message |
| string | <code>string</code> | String with message |

<a name="ProducibleMessage"></a>

## ProducibleMessage : <code>Object</code>
**Kind**: global typedef  
**Properties**

| Name | Type | Description |
| --- | --- | --- |
| partition | <code>number</code> | Partition number |
| key | <code>string</code> | Message key |
| buffer | <code>Buffer</code> | Message value as Buffer |
| json | <code>Object</code> | Message value as object and serialized with JSON.stringify() |
| string | <code>string</code> | Message value as string |

